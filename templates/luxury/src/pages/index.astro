---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import About from '../components/About.astro';
import ExperienceGrid from '../components/ExperienceGrid.astro';
import Insights from '../components/Insights.astro';
import Connect from '../components/Connect.astro';

const experienceEntries = await getCollection('experience');
const experience = experienceEntries
  .sort((a, b) => (a.data.order ?? 99) - (b.data.order ?? 99))
  .map((e) => ({ company: e.data.company, role: e.data.role, desc: e.data.desc }));

const writingsEntries = await getCollection('writings');
const writings = writingsEntries
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .map((w) => ({
    date: w.data.pubDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' }),
    title: w.data.title,
    excerpt: w.data.description,
    slug: w.id,
  }));
---

<Layout title="Cynthia Liu | Finance Professional" description="Cynthia Liu - Finance Professional based in Singapore. Bridging capital, strategy, and impact.">

    <Hero
        tagline="Finance Professional · Singapore"
        firstName="Cynthia"
        lastName="Liu"
        subtitle="Management Trainee @ TPC Group.<br/>Bridging capital, strategy, and impact."
        ctaLabel="View My Work"
        ctaHref="#experience"
        secondaryCtaLabel="Get in Touch"
        secondaryCtaHref="#connect"
    />

    <About>
        <p class="opacity-90">
            I grew up in mainland China, studied Economics at CUFE Beijing, then moved to Singapore for my MSc in Finance at NTU. From early on, <span class="text-oldGold italic">I made a deliberate choice</span> to work across consulting, investment banking, and internet data analytics — because truly understanding finance requires entering the same problem from multiple angles.
        </p>
        <p class="opacity-90">
            I currently serve as a Management Trainee at TPC Group, rotating across real estate, M&A, and sustainability. This role has given me a rare vantage point to observe how capital, strategy, and impact interweave in real business decisions within a 120-year-old family enterprise.
        </p>
        <p class="opacity-90">
            My sustained interests lie in <span class="italic decoration-1 underline underline-offset-4 decoration-stone">Asian capital markets</span> and impact investing. I hope to be someone who can build understanding and bridges between China and Southeast Asia.
        </p>
    </About>

    <ExperienceGrid items={experience} />

    <Insights items={writings} />

    <Connect
        linkedinUrl="https://linkedin.com/in/cynthia-liumingyue"
        email="hello@example.com"
    />

</Layout>
